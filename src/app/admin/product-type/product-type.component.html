<div class="container category-page">

  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="page-title mb-0">Danh mục sản phẩm</h2>
  </div>

  <div class="card mb-4">
    <div class="table-responsive-custom">
      <table class="table table-bordered table-hover align-middle">
        <thead class="table-dark">
          <tr>
            <th>ID</th>
            <th>Tên danh mục</th>
            <th>Mô tả</th>
            <th>Ảnh</th>
            <th width="140">Hành động</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let pt of productTypes">
            <td>{{ pt.idType }}</td>
            <td class="fw-semibold">{{ pt.nameType }}</td>
            <td class="text-start">{{ pt.description }}</td>
            <td>
              <img style="width: 70px;" *ngIf="pt.avt" [src]="pt.avt" alt="avt" class="category-img">
            </td>
            <td class="text-nowrap">
              <button class="btn btn-sm btn-outline-warning me-1" (click)="selectProductType(pt)"><i class="fa fa-wrench"></i></button>
              <button class="btn btn-sm btn-outline-danger" (click)="deleteProductType(pt.idType)"><i class="fa fa-trash"></i></button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="card">
    <h4 class="mb-3">{{ isEditMode ? 'Cập nhật danh mục' : 'Thêm danh mục mới' }}</h4>
    <form [formGroup]="form" (ngSubmit)="save()">
      <div class="mb-3">
        <label class="form-label">Tên danh mục</label>
        <input class="form-control" formControlName="nameType">
        <div *ngIf="form.controls['nameType'].invalid && form.controls['nameType'].touched" class="text-danger mt-1">
          Tên danh mục là bắt buộc
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label">Mô tả</label>
        <textarea class="form-control" rows="3" formControlName="description"></textarea>
      </div>
      <div class="mb-3">
        <label class="form-label">Ảnh (URL)</label>
        <input class="form-control" row="1" formControlName="avt">
      </div>
      <button type="submit" class="btn btn-primary me-2">
        <i class="fa fa-save me-1"></i>{{ isEditMode ? 'Cập nhật' : 'Thêm mới' }}
      </button>
      <button type="button" class="btn btn-secondary" (click)="cancelEdit()">Hủy</button>
    </form>
  </div>

</div>
